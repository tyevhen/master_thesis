i woke up today in one of those perilous half dreamy states where you think you may have stumbled onto a surprisingly great idea an idea which might , on reflection , turn out to be shit , like the invention of the inside out banana my reverie ended up taking me , a few minutes later , to a fascinating to me post by thomas h hn called myths about dev urandom , which only a programmer could love but my brain was blocking on an insufficientcaffeineerror and i only haltingly made my way through h hn 's piece , until finally i refilled my cup a few times , and then everything was percolicious my great idea was downgraded thereby to good , but that 's not bad for a sunday morning , right ? it 's all about randomness which is a slippery subject indeed for a layman , none of this will matter much because it gets very abstruse very quickly , but the essence is high quality random numbers are hard to come by , and unix has always distinguished between pseudorandom numbers algorithmically computed numbers , as provided by the dev urandom service , and non deterministic random looking numbers as provided by dev random the problem with pseudorandom numbers is that they 're pseudo they come in a definite sequence that , if you know the algorithm and the starting value , can be predicted non deterministic numbers are numbers that may not meet tests of randomness but have the virtue of not being strictly predictable even in theory because they derive from real world events that ca n't be anticipated so for example , if i find a hair on the floor in my office , i ca n't know in advance how many microns long the hair is , even in theory there 's no known way to precalculate that but if you pick up all the stray hairs from the office floor and measure their lengths , the variations might or might not meet a true measure of randomness okay , that was a janky example mea cuppa i'm still two cups short of a load refills mug the reason any of this matters is that for certain really important things , like picking the seed value for a random number that will get used in opening an ssl connection , you want a non deterministic value , something no hacker could predict even in theory unix and linux will give you such a number in dev random , but you might have to wait an unknown amount of time for it , because dev random blocks until sufficient entropy has been gathered where does this entropy come from and why do you have to wait for it ? it comes from such janky things as inter interrupt timings the amount of time between keystrokes or mouse moves , for example , which are not terribly abundant compared to the speed at which a cpu ticks , keystroke deltas come along at a glacial pace bottom line , if you open enough ssl connections at once , you can starve some unix machines for entropy if they 're waiting on dev random the machine will block which is bad that 's a kind of vulnerability in its own right it turns out freebsd and others do n't block except once , at startup , while waiting for entropy to build up dev urandom and dev random are the same device , on those machines linux saves some built up entropy into a seed file that gets rolled over to the next startup many specialists have come to the view that the dev random blocking phenomenon is a needless bogeyman , and maybe it is to me , it 's just kind of an interesting bit of lore i used to care deeply about these sorts of things when i worked at novell who bought unix from at t years ago , before acquiring suse linux , back when i was on the inventions committee we cared a lot about identity management , and that meant caring a lot about cryptography and related matters so to go back to the beginning what was the great idea i woke up with ? basically , i thought of one more source of non deterministic entropy that could be folded into the entropy pool on unix machines it occurred to me that java 's gc method , the famous do a garbage collection method that is n't guaranteed to run how hilarious is that ? , should return a value immediately it should return the time , in milliseconds , since the last garbage collection garbage collection events are non deterministic a known source of mayhem in the java and net worlds why not harness that , for entropy purposes ? the problem is , gc events do n't happen very often but neither do interrupts so to make this idea practical , you 'd probably want to be able to collect gc return values across a network of machines , to moot the availability problem you would need to filter the collected responses appropriately to extract the net entropy from the responses in case there 's a man in the middle trying to overwhelm you with non entropy , but entropy whitening is a well known art , blah blah blah ideally , you want the collecting machine to have its own secret dispositioning algorithms for accumulating entropy from certain nodes , dropping input from others , etc , based on node reputations , as covered in a patent i did several years ago with stephen r carter if none of this entropy stuff makes sense to you i do n't blame you , it might help if you took a look at my post , information theory in three minutes which got , views ! , which introduces the concept of shannon entropy it might also help if i switched to decaf but that 's another matter bernie thoughts berniethoughts imagine an inside out banana terrible am jan , , people are talking about this twitter ads info and privacy come on that 's funny buy my books or i 'll shoot this dog have you added your name to our mailing list ?