another great mozilla feature pretty format a serialized dom tree the following code will serialize an entire web page and pretty format the markup var serializer new xmlserializer var str serializer serializetostring document documentelement var pretty xml str toxmlstring as mentioned in my earlier post about xmlserializer , the xml you get is n't perfect element names come out all caps for some weird reason and you get a bunch of automatic entity substitutions , most of which you probably want , others of which will simply break things if you try to deserialize the text back into a dom later forget about easy roundtripping but overall , it 's a really useful trick i was hoping maybe this trick would also as a free bonus pretty format any embedded scripts inside cdata sections , but of course no such luck in fact , due to automatic entity substitution , ! cdata gets converted to lt ! cdata , which is hilarious in a sad kind of way