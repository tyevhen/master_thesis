the other day , i started to wonder what 's the single fugliest piece of code i 've ever written ? it 's really hard to answer that , because i 've been writing code of one flavor or another for roughly twenty years , and in that time i 've committed every code atrocity known to man or beast as i like to tell people , i'm an expert on spotting bad code , because i 've written so much of it myself what i 've finally decided is that the following line of c code is probably the single most ghastly line of code i 've ever perpetrated srcpixmap pmtable ctseed agdevice gdpmap pmtable ctseed explanation long ago , i used to do graphics programming on the mac i do n't know how the mac does things today , but ten years ago the color manager rebuilt a table whenever color quickdraw , the color picker manager , or the palette manager requested colors from a graphics device whose color lookup table had changed to determine whether clut had in fact changed , the color manager compared the ctseed field of the current gdevice color table against the ctseed field of that graphics device 's inverse table if ctseed values did n't match , the color manager invalidated the inverse table and rebuilt it for fast redraws , you want to avoid that you could avoid it by forcing the ctseed field values to be equal this is one of many fast blit tips i explained in an article i wrote years ago for mactech magazine fortunately , i write mostly java and javascript now , and i no longer have to deal with pointer indirection , and today my aspirin drawer is only half full or is it half empty ?