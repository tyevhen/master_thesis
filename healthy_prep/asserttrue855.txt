day i started wonder single fugliest piece code i ever written really hard answer i writing code one flavor another roughly twenty years time i committed every code atrocity known man beast i like tell people i expert spotting bad code i written much myself i finally decided following line code probably single ghastly line code i ever perpetrated srcpixmap pmtable ctseed agdevice gdpmap pmtable ctseed explanation long ago i used graphics programming mac i know mac things today ten years ago color manager rebuilt table whenever color quickdraw color picker manager palette manager requested colors graphics device whose color lookup table changed determine whether clut fact changed color manager compared ctseed field current gdevice color table ctseed field graphics device inverse table ctseed values match color manager invalidated inverse table rebuilt fast redraws want avoid could avoid forcing ctseed field values equal one many fast blit tips i explained article i wrote years ago mactech magazine fortunately i write mostly java javascript i longer deal pointer indirection today aspirin drawer half full half empty