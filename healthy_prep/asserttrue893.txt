another great mozilla feature pretty format serialized dom tree following code serialize entire web page pretty format markup var serializer new xmlserializer var str serializer serializetostring document documentelement var pretty xml str toxmlstring mentioned earlier post xmlserializer xml get perfect element names come caps weird reason get bunch automatic entity substitutions probably want others simply break things try deserialize text back dom later forget easy roundtripping overall really useful trick i hoping maybe trick would also free bonus pretty format embedded scripts inside cdata sections course luck fact due automatic entity substitution cdata gets converted cdata hilarious sad kind way